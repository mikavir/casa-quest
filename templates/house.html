{% extends "base.html" %}
{% block content %}
<div class=" page-container">
    <div class="row mx-4">
        <div class="col s12">
            <a href="{{ url_for('profile', username=session['user']) }}"
                class="btn icon-left waves-effect waves-light teal darken-4 orange-text text-lighten-4"><i
                    class="material-icons">arrow_back</i>Back to Dashboard</a>
        </div>
    </div>

    <div class="row p-5">
        <div class="col s12 m6">
            <img src="{{house.image_url}}" class="responsive-img">
        </div>
        <div class="col s12 m6 center m-2">
            <div class="row">
                <div class="col s12">
                    <h3 class="center-align green-text text-darken-4">
                        {{ house.address }}
                    </h3>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <h5>{{ house.agency }} </h5>
                </div>

            </div>
            <div class="col s12">
                <h6 class="center-align black-text text-darken-4">
                    {{ house.propertyType }}
                </h6>
            </div>
            <div class="row">
                <div class="col s12">
                    <h6 class="center-align black-text text-darken-4">
                        Â£ {{ house.price }}
                    </h6>
                </div>
            </div>
            <div class="row m-2">
                <div class="col s12">
                    <span><i class="fa-solid fa-calendar-days prefix"></i> {{ house.date_viewing }}</span>
                </div>

            </div>
        </div>

    </div>
    <div class="row teal darken-2 p-5">
        <div class="col s12 p-5">
            <div class="row">
                <div class="col s12 m6 orange-text text-lighten-1 center">
                    <div class="row m-4">
                        <div class="col s6">
                            <div class="row">
                                <div class="col s12">
                                    <h1>{{ house.bedrooms }}</h1>

                                </div>
                                <div class="col s12">
                                    <h6>Bedrooms</h6>

                                </div>
                            </div>
                        </div>
                        <div class="col s6">
                            <div class="row">
                                <div class="col s12">
                                    <h1>{{ house.bathrooms }}</h1>
                                    
                                </div>
                                <div class="col s12">
                                    <h6>Bathrooms</h6>

                                </div>
                            </div>

                        </div>
                        {% if house_info.dedicatedParking == "yes" %}
                            <div class="col s4">
                                <h1>1</h1>
                                <i class="material-icons prefix">local_parking</i>
                            </div>
                        {% endif %}

                    </div>
                </div>
                <div class="col s12 m6">
                    <iframe src="{{house.mapsUrl}}"></iframe>
                </div>

            </div>
        </div>

    </div>


    <!-- house info -->
    <div class="row house-container p-5">
        <div class="col s12">
            <div class="row white-text center">
                <div class="col s12" id="house-info">
                    <div class="row left-align">
                        <div class="col s6 m6 m-3 ">
                            <span> <i class="material-icons">bolt</i> EPC: </span>
                            <span class="house-info-content">{{ house_info.epc }}</span>

                        </div>
                        <div class="col s6 m6 m-3">
                            <span> <i class="material-icons">payments</i> Tax Band: </span>
                            <span class="house-info-content">{{ house_info.taxBand }} </span>

                        </div>
                    </div>
                    <div class="row left-align">
                        <div class="col s6 m6 m-3">
                            <span> <i class="material-icons prefix">flood</i> Flood Risk: </span>
                            <span class="house-info-content">{{ house_info.floodRisk }}</span>

                        </div>
                        <div class="col s6 m6 m-3">
                            <span><i class="material-icons prefix">wifi</i> Internet Speed: </span>
                            <span class="house-info-content">{{ house_info.internetSpeed }} </span>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 m-3">
                            <span> <i class="material-icons prefix">local_parking</i> Dedicated Parking </span>
                            <span class="house-info-content">{{ house_info.dedicatedParking }}</span>

                        </div>
                    </div>

                </div>
                <div class="col s12 p-5 mx-auto" id="add-house-info">
                    <a href="#addInfoModal" class="add-modal modal-trigger"
                        id="add-houseinfo-btn">
                        
                        <div class="add-modal-content teal-text text-darken-4">
                            <i class="small material-icons">add_circle_outline</i>
                            <p>Details of Your Dream Home</p>
                        </div>
                    </a>
                </div>
                <div class="col s12 center">
                    <a href="#editInfoModal" class="btn filled teal white black-text waves-effect waves-light modal-trigger"
                        id="edit-houseinfo-btn">
                        Edit house info
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="row my-4">
        <!-- house viewing -->
        <div class="col s12 m12 l6 mx-2">
            <div class="card-panel teal darken-2 row mx-auto">
                <div class="col s12" id="house-viewing">
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">What is the seller's situation?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-viewing-content white-text">{{ house_viewing.sellersSituation }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">How are the nighbours?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-viewing-content white-text">{{ house_viewing.neighbours }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">What are the facilities?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-viewing-content white-text">{{ house_viewing.facilities }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">How is the traffic?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-viewing-content white-text">{{ house_viewing.traffic }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">Have there been other offers?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-viewing-content white-text">{{ house_viewing.otherOffers }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">Are the window's double glazed?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-viewing-content white-text">{{ house_viewing.windows }}</span>

                        </div>
                    </div>

                </div>
                <div class="col s12 p-5 mx-auto" id="add-house-check">
                    <a href="#addHouseViewingModal"
                        class="add-modal-view modal-trigger row center"
                        id="add-houseviewing-btn">                       
                        <div class="add-modal-content orange-text text-lighten-4 col s12">
                            <i class="small material-icons">add_circle_outline</i>
                            <p>Share Your Viewing Experience</p>
                        </div>
                    </a>
                    <a href="#editHouseViewingModal"
                        class="btn filled white black-text waves-effect waves-light modal-trigger"
                        id="edit-houseviewing-btn">
                        Edit house viewing
                    </a>

                </div>
            </div>
            <!-- house checks -->
        </div>
        <div class="col s12 m12 l6 mx-2">
            <div class="card-panel teal darken-2 row mx-auto">
                <div class="col s12" id="house-check">
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">Which way does the property face? (Important for light)</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-check-content white-text">{{ house_check.propertyFacing }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">How much can you hear outside?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-check-content white-text">{{ house_check.noisePollution }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">How is the storage space?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-check-content white-text">{{ house_check.storageSpace }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">Is it easy to access the attic?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-check-content white-text">{{ house_check.atticAccess }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">Is there a good amount of electric ports available?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-check-content white-text">{{ house_check.electricPorts }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">Are there visible signs of mould?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-check-content white-text">{{ house_check.mould }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">Are there visible signs of damp</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-check-content white-text">{{ house_check.damp }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">Are there visible signs of wall cracking?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-check-content white-text">{{ house_check.crack }}</span>

                        </div>
                    </div>
                    <div class="row m-3">
                        <div class="col s12 m-2">
                            <span class="black-text">Codition of the roof?</span>
                        </div>
                        <div class="col s12 center">
                            <span class="house-check-content white-text">{{ house_check.roofCondition }}</span>

                        </div>
                    </div>
                </div>
                <div class="col s12 mx-auto p-5" id="add-house-check">
                    <a href="#addHouseCheckModal"
                        class="add-modal-view modal-trigger row center"
                        id="add-housecheck-btn">
                        <div class="add-modal-content orange-text text-lighten-4">
                            <i class="small material-icons col s12">add_circle_outline</i>
                            <p>Share Your Home Inspection Insights</p>
                        </div>
                    </a>
                    <a href="#editHouseCheckModal"
                        class="btn filled white black-text waves-effect waves-light modal-trigger"
                        id="edit-housecheck-btn">
                        Edit house checks
                    </a>

                </div>
            </div>
        </div>


    </div>

</div>


<!--  MODALS -->


<!-- Edit house info modal -->
<div id="editInfoModal" class="modal teal lighten-4">
    <div class="modal-content">
        <form action="{{ url_for('edit_house_info', house_id=house._id) }}" method="POST" id="edit-info">
            <!-- input field for EPC -->
            <div class="row">
                <div class="input-field col s12 outlined m-3">
                    <i class="material-icons prefix">bolt</i>
                    <input id="epc" name="epc" type="text" class="validate" required value="{{ house_info.epc }}">
                    <label for="epc">
                        EPC Rating:</label>
                </div>
            </div>
            <!-- input field for Tax-Band -->
            <div class="row">
                <div class="input-field col s12 outlined m-3">
                    <i class="material-icons prefix">payments</i>
                    <input id="tax_band" name="tax_band" type="text" class="validate" required
                        value="{{ house_info.taxBand }}">
                    <label for="tax_band">Tax Band</label>
                </div>

            </div>

            <!-- input field for flood risk -->
            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <i class="material-icons prefix">flood</i>
                    <input id="flood_risk" name="flood_risk" type="text" class="validate"
                        value="{{ house_info.floodRisk }}" required>
                    <label for="flood_risk">Flood Risk</label>
                </div>

            </div>

            <!-- input field for wifi -->
            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <i class="material-icons prefix">wifi</i>
                    <input id="internet_speed" name="internet_speed" type="text" class="validate"
                        value="{{ house_info.internetSpeed }}" required>
                    <label for="internet_speed">Internet Speed:</label>
                </div>

            </div>
            <!-- input field for parking -->
            <div class="row">
                <div class="col s12  center">
                    <label for="dedicated_parking">
                        {% if house_info.dedicatedParking == "yes" %}
                        <input name="dedicated_parking" id="dedicated_parking" type="checkbox" class="filled-in"
                            checked="checked" />
                        {% else %}
                        <input name="dedicated_parking" id="dedicated_parking" type="checkbox" class="filled-in" />
                        {% endif %}
                        <span>Dedicated Parking</span>
                    </label>
                </div>
            </div>
            <div class="row center">
                <div class="col s12 m-3">
                    <button class="btn filled icon-left waves-effect waves-light teal white-text" type="submit">
                        <i class="material-icons">add</i>Update House Information
                    </button>
                </div>
            </div>


        </form>

    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect btn">Close</a>

    </div>
</div>

<!-- Add house info modal -->
<div id="addInfoModal" class="modal custom-card">
    <div class="modal-content row">
        <div class="col s12 my-2">
            <div class="row">
                <div class="col s10 left-align">
                    <h6>Capture Your Future Home's Details</h6>
                </div>
                <div class="col s2 right-align">
                    <a href="#!" class="modal-close waves-effect btn rounded red darken-4 p-2"> <i class="material-icons">close</i></a>
        
                </div>
            </div>
        </div>
        <form action="{{ url_for('add_house_info', house_id=house._id) }}" method="POST" class="teal-text text-darken-2 col s12">
            <!-- input field for EPC -->
            <div class="row">
                <div class="input-field col s12 outlined m-3">
                    <i class="material-icons prefix">bolt</i>
                    <input id="add_epc" name="add_epc" type="text" class="validate" required>
                    <label for="add_epc">
                        EPC Rating:</label>
                </div>
            </div>
            <!-- input field for Tax-Band -->
            <div class="row">
                <div class="input-field col s12 outlined m-3">
                    <i class="material-icons prefix">payments</i>
                    <input id="add_tax_band" name="add_tax_band" type="text" class="validate" required>
                    <label for="add_tax_band">Tax Band</label>
                </div>

            </div>

            <!-- input field for flood risk -->
            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <i class="material-icons prefix">flood</i>
                    <input id="add_flood_risk" name="add_flood_risk" type="text" class="validate" required>
                    <label for="add_flood_risk">Flood Risk</label>
                </div>

            </div>

            <!-- input field for wifi -->
            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <i class="material-icons prefix">wifi</i>
                    <input id="add_internet_speed" name="add_internet_speed" type="text" class="validate" required>
                    <label for="add_internet_speed">Internet Speed:</label>
                </div>

            </div>
            <!-- input field for parking -->
            <div class="row">
                <div class="col s12  center">
                    <label for="add_dedicated_parking">
                        <input name="add_dedicated_parking" id="add_dedicated_parking" type="checkbox" class="filled-in"
                            checked="checked" />
                        <span>Dedicated Parking</span>
                    </label>
                </div>
            </div>
            <div class="row center">
                <div class="col s12 m-3">
                    <button class="btn rounded icon-left waves-effect waves-light teal darken-4 orange-text text-lighten-4 m-2" type="submit">
                        <i class="material-icons">add</i>Add House Information
                    </button>
                </div>
            </div>


        </form>

    </div>
</div>
<!-- Edit house viewing Modal -->
<div id="editHouseViewingModal" class="modal teal lighten-4">
    <div class="modal-content">
        <form action="{{ url_for('edit_house_viewing', house_id=house._id) }}" method="POST">

            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <label for="sellers-sitaution">What is the seller's situation?</label>
                    <i class="material-icons prefix">people_outline</i>
                    <input id="sellers-sitaution" name="sellers-sitaution" type="text" class="validate"
                        value="{{ house_viewing.sellersSituation }} " required>
                </div>

            </div>
            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <i class="material-icons prefix">person_search</i>
                    <input id="neighbours" name="neighbours" type="text" class="validate"
                        value=" {{ house_viewing.neighbours }}" required>
                    <label for="neighbours">How are the neighbours?</label>
                </div>

            </div>
            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <i class="material-icons prefix">explore</i>
                    <input id="facilities" name="facilities" type="text" class="validate"
                        value=" {{ house_viewing.facilities}}" required>
                    <label for="facilities">What are the facilities nearby?</label>
                </div>

            </div>
            <div class="row">
                <div class="col s12 left-align">
                    <p>How's the traffic?</p>
                </div>
                <div class="input-field col s12 m-3 center">
                    {% for severity in traffic %}
                    <span>
                        <label for="{{severity}}">
                            {% if house_viewing.traffic == severity %}
                            <input name="traffic" id="{{severity}}" type="radio" value="{{ severity }}" checked />
                            <span>{{ severity }}</span>
                            {% else %}
                            <input name="traffic" id="{{severity}}" type="radio" value="{{ severity }}" />
                            <span>{{ severity }}</span>
                            {% endif %}

                        </label>
                    </span>
                    {% endfor %}
                </div>

            </div>
            <div class="row">
                <div class="col s12 m6 m-4">
                    <label for="offers">
                        {% if house_viewing.otherOffers == "yes" %}
                        <input name="offers" id="offers" type="checkbox" class="filled-in" checked="checked" />
                        {% else %}
                        <input name="offers" id="offers" type="checkbox" class="filled-in" />
                        {% endif %}
                        <span>Has there been other offers?</span>
                    </label>
                </div>
                <div class="col s12 m6 m-4">
                    <label for="windows">
                        {% if house_viewing.windows == "yes" %}
                        <input name="windows" id="windows" type="checkbox" class="filled-in" checked="checked" />
                        {% else %}
                        <input name="windows" id="windows" type="checkbox" class="filled-in" />
                        {% endif %}

                        <span>Are the windows double-glazed?</span>
                    </label>
                </div>
            </div>
            <div class="row center">
                <div class="col s12">
                    <button class="btn filled icon-left waves-effect waves-light teal white-text" type="submit">
                        <i class="material-icons">add</i>Edit House Viewing Information
                    </button>
                </div>
            </div>
        </form>

    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect btn">Close</a>

    </div>
</div>


<!-- Add house Viewing modal -->
<div id="addHouseViewingModal" class="modal custom-card">
    <div class="modal-content">
        <form action="{{ url_for('add_house_viewing', house_id=house._id) }}" method="POST">

            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <i class="material-icons prefix">people_outline</i>
                    <input id="add_sellers-situation" name="add_sellers-sitaution" type="text" class="validate"
                        required>
                    <label for="add_sellers-situation">What is the seller's situation?</label>
                </div>

            </div>
            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <i class="material-icons prefix">person_search</i>
                    <input id="add_neighbours" name="add_neighbours" type="text" class="validate" required>
                    <label for="add_neighbours">How are the neighbours?</label>
                </div>

            </div>
            <div class="row">
                <div class="input-field outlined col s12 m-3">
                    <i class="material-icons prefix">explore</i>
                    <input id="add_facilities" name="add_facilities" type="text" class="validate" required>
                    <label for="add_facilities">What are the facilities nearby?</label>
                </div>

            </div>
            <div class="row">
                <div class="col s12 left-align">
                    <p>How's the traffic?</p>
                </div>
                <div class="input-field col s12 m-3 center">
                    {% for severity in traffic %}
                    <span>
                        <label for="{{ severity }}">
                            <input name="add_traffic" id="{{ severity }}" type="radio" value="{{ severity }}" />
                            <span>{{severity}}</span>
                        </label>
                    </span>
                    {% endfor %}
                </div>

            </div>
            <div class="row">
                <div class="col s12 m6 m-4">
                    <label for="add_offers">
                        <input name="add_offers" id="add_offers" type="checkbox" class="filled-in" checked="checked" />
                        <span>Has there been other offers?</span>
                    </label>
                </div>
                <div class="col s12 m6 m-4">
                    <label for="add_windows">
                        <input name="add_windows" id="add_windows" type="checkbox" class="filled-in"
                            checked="checked" />
                        <span>Are the windows double-glazed?</span>
                    </label>
                </div>
            </div>
            <div class="row center">
                <div class="col s12">

                    <button class="btn filled icon-left waves-effect waves-light teal white-text" type="submit">
                        <i class="material-icons">add</i>Add House Viewing Information
                    </button>
                </div>
            </div>
        </form>

    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect btn">Close</a>

    </div>
</div>



<!-- Edit personal house checks -->
<div id="editHouseCheckModal" class="modal teal lighten-4">
    <div class="modal-content">
        <form action="{{ url_for('edit_house_check', house_id=house._id) }}" method="POST">
            <div class="row">
                <div class="col s12 ">
                    <div class="row">
                        <div class="col s12 left-align">
                            <p>Which direction does the property face the sun?</p>
                        </div>
                        <div class="input-field col s12">
                            {% for direction in property_facing %}
                            <span>
                                <label for="{{ direction }}">
                                    {% if house_check.propertyFacing == direction %}
                                    <input name="property_facing" id="{{ direction }}" type="radio"
                                        value="{{ direction }}" checked />
                                    <span>{{ direction }}</span>
                                    {% else %}
                                    <input name="property_facing" id="{{ direction }}" type="radio"
                                        value="{{ direction }}" />
                                    <span>{{ direction }}</span>
                                    {% endif %}
                                </label>
                            </span>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 left-align">
                            <p>How much can you hear outside?</p>
                        </div>
                        <div class="input-field col s12">
                            {% for level in noise %}
                            <span>
                                <label for="{{ 'noisePollution' + level }}">
                                    {% if house_check.noisePollution == level %}
                                    <input name="noise_level" id="{{ 'noisePollution' + level }}" type="radio"
                                        value="{{ level }}" checked="checked" />
                                    <span>{{ level }}</span>
                                    {% else %}
                                    <input name="noise_level" id="{{ 'noisePollution' + level }}" type="radio"
                                        value="{{ level }}" />
                                    <span>{{ level }}</span>
                                    {% endif %}

                                </label>
                            </span>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 left-align">
                            <p>How noisy is the boiler?</p>
                        </div>
                        <div class="input-field col s12">
                            {% for level in noise %}
                            <span>
                                <label for="{{ 'boiler' + level }}">
                                    {% if house_check.boilerNoise == level %}
                                    <input name="boiler_noise" id="{{'boiler' + level }}" type="radio"
                                        value="{{ level }}" checked="checked" />
                                    <span>{{ level }}</span>
                                    {% else %}
                                    <input name="boiler_noise" id="{{'boiler' + level }}" type="radio"
                                        value="{{ level }}" />
                                    <span>{{ level }}</span>
                                    {% endif %}

                                </label>
                            </span>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 left-align">
                            <p>How much storage space does the house have?</p>
                        </div>
                        <div class="input-field col s12">
                            {% for amount in storage_space %}
                            <span>
                                <label for="{{ amount }}">
                                    {% if house_check.storageSpace == amount %}
                                    <input name="storage_space" id="{{ amount }}" type="radio" value="{{ amount }}"
                                        checked="checked" />
                                    <span>{{ amount }}</span>
                                    {% else %}
                                    <input name="storage_space" id="{{ amount }}" type="radio" value="{{ amount }}" />
                                    <span>{{ amount }}</span>
                                    {% endif %}

                                </label>
                            </span>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 m6 m-4">
                            <label for="attic">
                                {% if house_check.atticAccess == "yes" %}
                                <input name="attic" id="attic" type="checkbox" class="filled-in" checked="checked" />
                                <span>Is there easy access to the attic?</span>
                                {% else %}
                                <input name="attic" id="attic" type="checkbox" class="filled-in" />
                                <span>Is there easy access to the attic?</span>
                                {% endif %}
                            </label>
                        </div>
                        <div class="col s12 m6 m-4">
                            <label for="electric_ports">
                                {% if house_check.atticAccess == "yes" %}
                                <input name="electric_ports" id="electric_ports" type="checkbox" class="filled-in"
                                    checked />
                                <span>Are there decent amounts of electric port?</span>
                                {% else %}
                                <input name="electric_ports" id="electric_ports" type="checkbox" class="filled-in" />
                                <span>Are there decent amounts of electric port?</span>
                                {% endif %}
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 m6 m-4">
                            <label for="mould">
                                {% if house_check.mould == "yes" %}
                                <input name="mould" id="mould" type="checkbox" class="filled-in" checked="checked" />
                                <span>Are there signs of mould?</span>
                                {% else %}
                                <input name="mould" id="mould" type="checkbox" class="filled-in" />
                                <span>Are there signs of mould?</span>
                                {% endif %}
                            </label>
                        </div>
                        <div class="col s12 m6 m-4">
                            <label for="damp">
                                {% if house_check.damp == "yes" %}
                                <input name="damp" id="damp" type="checkbox" class="filled-in" checked="checked" />
                                <span>Are there signs of damp in the walls?</span>
                                {% else %}
                                <input name="damp" id="damp" type="checkbox" class="filled-in" />
                                <span>Are there signs of damp in the walls?</span>
                                {% endif %}
                            </label>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col s12">
                            <label for="crack">
                                {% if house_check.crack == "yes" %}
                                <input name="crack" id="crack" type="checkbox" class="filled-in" checked="checked" />
                                <span>Are there signs of wall cracking?</span>
                                {% else %}
                                <input name="crack" id="crack" type="checkbox" class="filled-in" />
                                <span>Are there signs of wall cracking?</span>
                                {% endif %}
                            </label>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <div class="row">
                                <div class="col s12">
                                    <p>Condition of the roof:
                                    </p>
                                </div>
                                <div class="input-field col s12">
                                    {% for condition in roof_condition %}
                                    <span class="m-2">
                                        <label for="{{ 'edit' + condition[0] }}">
                                            {% if house_check.roofCondition == condition[0] %}
                                            <input name="roof_condition" id="{{ 'edit' + condition[0] }}" type="radio"
                                                value="{{ condition[0] }}" checked="checked" required />
                                            <span>{{ condition[0] }} </span>
                                            {% else %}
                                            <input name="roof_condition" id="{{'edit' + condition[0] }}" type="radio"
                                                value="{{ condition[0] }}" required />
                                            <span>{{ condition[0] }} </span>
                                            {% endif %}
                                        </label>

                                        <button class="btn p-1 rounded green tooltipped" type="button" clickable="false"
                                            data-position="bottom" data-tooltip="{{condition[1]}}"><i
                                                class="fa-sharp fa-solid fa-circle-info"></i></button>

                                    </span>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s12 center m-3">
                    <button class="btn filled icon-left waves-effect waves-light teal white-text" type="submit">
                        <i class="material-icons">add</i>Update Personal Checks
                    </button>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect btn">Close</a>

    </div>
</div>



<!-- Add house checks modal -->

<div id="addHouseCheckModal" class="modal teal lighten-4">
    <div class="modal-content">
        <form action="{{ url_for('add_house_check', house_id=house._id) }}" method="POST">

            <div class="row">
                <div class="col s12 ">
                    <div class="row">
                        <div class="col s12 left-align">
                            <p>Which direction does the property face the sun?</p>
                        </div>
                        <div class="input-field col s12">
                            {% for direction in property_facing %}
                            <span>
                                <label for="{{ 'add' + direction }}">
                                    <input name="add_property_facing" id="{{ 'add' + direction }}" type="radio"
                                        value="{{ direction }}" />
                                    <span>{{ direction }}</span>
                                </label>
                            </span>
                            {% endfor %}

                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 left-align">
                            <p>How much can you hear outside?</p>
                        </div>
                        <div class="input-field col s12">
                            {% for level in noise %}
                            <span>
                                <label for="{{ 'addnoise' + level }}">
                                    <input name="add_noise_level" id="{{ 'addnoise' + level }}" type="radio"
                                        value="{{ level }}" />
                                    <span>{{ level }}</span>
                                </label>
                            </span>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 left-align">
                            <p>How noisy is the boiler?</p>
                        </div>
                        <div class="input-field col s12">
                            {% for level in noise %}
                            <span>
                                <label for="{{ 'addBoiler' + level }}">
                                    <input name="add_boiler_noise" id="{{ 'addBoiler' + level }}" type="radio"
                                        value="{{ level }}" />
                                    <span>{{ level }}</span>
                                </label>
                            </span>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 left-align">
                            <p>How much storage space does the house have?</p>
                        </div>
                        <div class="input-field col s12">
                            {% for amount in storage_space %}
                            <span>
                                <label for="{{'addStorage' + amount}}">
                                    <input name="add_storage_space" id="{{'addStorage' + amount}}" type="radio"
                                        value="{{ amount }}" />
                                    <span>{{ amount }}</span>
                                </label>
                            </span>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 m6 m-4">
                            <label for="add_attic">
                                <input name="add_attic" id="add_attic" type="checkbox" class="filled-in" />
                                <span>Is there easy access to the attic?</span>
                            </label>
                        </div>
                        <div class="col s12 m6 m-4">
                            <label for="add_electric_ports">
                                <input name="add_electric_ports" id="add_electric_ports" type="checkbox"
                                    class="filled-in" />
                                <span>Are there decent amounts of electric port?</span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 m6 m-4">
                            <label for="add_mould">
                                <input name="add_mould" id="add_mould" type="checkbox" class="filled-in" />
                                <span>Are there signs of mould?</span>
                            </label>
                        </div>
                        <div class="col s12 m6 m-4">
                            <label for="add_damp">
                                <input name="add_damp" id="add_damp" type="checkbox" class="filled-in" />
                                <span>Are there signs of damp in the walls?</span>
                            </label>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col s12">
                            <label for="add_crack">
                                <input name="add_crack" id="add_crack" type="checkbox" class="filled-in" />
                                <span>Are there signs of wall cracking?</span>
                            </label>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <div class="row">
                                <div class="col s12">
                                    <p>Condition of the roof:
                                    </p>
                                </div>
                                <div class="input-field col s12">
                                    {% for condition in roof_condition %}
                                    <span class="m-2">
                                        <label for="{{ 'addCondition' + condition[0] }}">
                                            <input name="add_roof_condition" id="{{ 'addCondition' + condition[0] }}"
                                                type="radio" value="{{ condition[0] }}" required />
                                            <span>{{ condition[0] }} </span>
                                        </label>

                                        <button class="btn p-1 rounded green tooltipped" type="button" clickable="false"
                                            data-position="bottom" data-tooltip="{{condition[1]}}"><i
                                                class="fa-sharp fa-solid fa-circle-info"></i></button>

                                    </span>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s12 center m-3">
                    <button class="btn filled icon-left waves-effect waves-light teal white-text" type="submit">
                        <i class="material-icons">add</i>Add Personal Checks
                    </button>
                </div>
            </div>
        </form>

    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect btn">Close</a>

    </div>
</div>

<!-- script -->

<script>
    addInfoBtnDisplay();
    houseViewDisplay();
    houseCheckDisplay();


    function isThereHouseContent(houseContent) {

        for (const content of houseContent) {
            if (content.innerText !== "") {
                return true;
            }
        }
        return false;
    }

    function addInfoBtnDisplay() {
        const addInfoBtn = document.getElementById("add-houseinfo-btn");
        const editInfoBtn = document.getElementById("edit-houseinfo-btn");
        const houseInfoDiv = document.getElementById("house-info");
        const houseInfoContent = document.querySelectorAll(".house-info-content");

        if (isThereHouseContent(houseInfoContent)) {
            houseInfoDiv.style.display = "block";
            editInfoBtn.style.display = "block";
            addInfoBtn.style.display = "none";

        } else {
            houseInfoDiv.style.display = "none"
            editInfoBtn.style.display = "none";
            addInfoBtn.style.display = "block";
        }
    }

    function houseViewDisplay() {
        const addInfoBtn = document.getElementById("add-houseviewing-btn");
        const editInfoBtn = document.getElementById("edit-houseviewing-btn");
        const houseViewingDiv = document.getElementById("house-viewing");
        const houseViewingContent = document.querySelectorAll(".house-viewing-content");

        if (isThereHouseContent(houseViewingContent)) {
            houseViewingDiv.style.display = "block";
            editInfoBtn.style.display = "block";
            addInfoBtn.style.display = "none";

        } else {
            houseViewingDiv.style.display = "none";
            editInfoBtn.style.display = "none";
            addInfoBtn.style.display = "block";
        }
    }

    function houseCheckDisplay() {
        const addInfoBtn = document.getElementById("add-housecheck-btn");
        const editInfoBtn = document.getElementById("edit-housecheck-btn");
        const houseCheckDiv = document.getElementById("house-check");
        const houseCheckContent = document.querySelectorAll(".house-check-content");

        if (isThereHouseContent(houseCheckContent)) {
            houseCheckDiv.style.display = "block";
            editInfoBtn.style.display = "block";
            addInfoBtn.style.display = "none";

        } else {
            houseCheckDiv.style.display = "none";
            editInfoBtn.style.display = "none";
            addInfoBtn.style.display = "block";
        }
    }
</script>


{% endblock %}